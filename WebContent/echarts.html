<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>小栗子</title>
    <!-- 引入 echarts.js -->
    <script src="echarts.js"></script>
</head>
<body>
    <!-- 666xxxx为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 100%;height:800px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));
        
        var pieData = [ 
		                [{value:5, name:'衬衫'},
		                {value:5, name:'羊毛衫'},
		                {value:5, name:'雪纺衫'},
		                {value:5, name:'裤子'},
		                {value:5, name:'高跟鞋'},
		                {value:5, name:'袜子'}, 
		                ],
		                [
						{value:6, name:'衬衫'},
						{value:7, name:'羊毛衫'},
						{value:8, name:'雪纺衫'},
						{value:9, name:'裤子'},
						{value:10, name:'高跟鞋'},
						{value:11, name:'袜子'}, 
		                ]
		            ]
        
        var pieName = ['商城','地摊'];
        
		var currPie = pieData[0];
        // 指定图表的配置项和数据
      var option = {
	 		title: {
	      	   text: 'ECharts 入门示例'
	  		},
		    tooltip: {
		         trigger: 'axis',  
		         axisPointer:{
		            type: 'shadow',
		         },
		    },
		    legend: {
		        data: ["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]
		    },
		    xAxis: {
		        data:['商城','地摊']
		    },
		    yAxis: {},
		    series: [{
		        name: '衬衫',
		        type: 'bar',
		        data: [5, 6]
		    },{
		        name: '羊毛衫',
		        type: 'bar',
		        data: [5, 7]   
		        
		    },{
		        name: '裤子',
		        type: 'bar',
		        data: [5, 8]   
		        
		    },{
		        name: '雪纺衫',
		        type: 'bar',
		        data: [5, 9]   
		        
		    },{
		        name: '高跟鞋',
		        type: 'bar',
		        data: [5, 10]   
		        
		    },{
		        name: '袜子',
		        type: 'bar',
		        data: [5, 11]   
		        
		    },
		       {
		            name:'不通区域服装价格比',
		            type:'pie',
		            tooltip : {
		                trigger: 'item',
		                formatter: '{a} <br/>{b} : {c} ({d}%)'
		            },
		            center: ['90%','20%'],
		            radius : [0,60],
		            itemStyle :{
		                normal : {
		                    labelLine : {
		                        length : 30
		                    }
		                }
		            },
		            data:currPie,
		        }
		    ]
		};

      option2 = {
    		    title : {
    		        text: '某地区蒸发量和降水量',
    		        subtext: '纯属虚构'
    		    },
    		    tooltip : {
    		        trigger: 'axis'
    		    },
    		    legend: {
    		        data:['蒸发量','降水量']
    		    },
    		    toolbox: {
    		        show : true,
    		        feature : {
    		            mark : {show: true},
    		            dataView : {show: true, readOnly: false},
    		            magicType : {show: true, type: ['line', 'bar']},
    		            restore : {show: true},
    		            saveAsImage : {show: true}
    		        }
    		    },
    		    calculable : true,
    		    xAxis : [
    		        {
    		            type : 'category',
    		            data : ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月']
    		        }
    		    ],
    		    yAxis : [
    		        {
    		            type : 'value'
    		        }
    		    ],
    		    series : [
    		        {
    		            name:'蒸发量',
    		            type:'bar',
    		            data:[2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3],
    		            markPoint : {
    		                data : [
    		                    {type : 'max', name: '最大值'},
    		                    {type : 'min', name: '最小值'}
    		                ]
    		            },
    		            markLine : {
    		                data : [
    		                    {type : 'average', name: '平均值'}
    		                ]
    		            }
    		        },
    		        {
    		            name:'降水量',
    		            type:'bar',
    		            data:[2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3],
    		            markPoint : {
    		                data : [
    		                    {name : '年最高', value : 182.2, xAxis: 7, yAxis: 183, symbolSize:18},
    		                    {name : '年最低', value : 2.3, xAxis: 11, yAxis: 3}
    		                ]
    		            },
    		            markLine : {
    		                data : [
    		                    {type : 'average', name : '平均值'}
    		                ]
    		            }
    		        }
    		    ]
    		};
        // 使用刚指定的配置项和数据显示图表。
        option3 = {
    title : {
        text: '未来一周气温变化',
        subtext: '纯属虚构'
    },
    tooltip : {
        trigger: 'axis'
    },
    legend: {
        data:['最高气温','最低气温']
    },
    toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            magicType : {show: true, type: ['line', 'bar','pie']},
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    xAxis : [
        {
            type : 'category',
            boundaryGap : false,
            data : ['周一','周二','周三','周四','周五','周六','周日']
        }
    ],
    yAxis : [
        {
            type : 'value',
            axisLabel : {
                formatter: '{value} °C'
            }
        }
    ],
    series : [
        {
            name:'最高气温',
            type:'line',
            data:[11, 11, 15, 13, 12, 13, 10],
            markPoint : {
                data : [
                    {type : 'max', name: '最大值'},
                    {type : 'min', name: '最小值'}
                ]
            },
            markLine : {
                data : [
                    {type : 'average', name: '平均值'}
                ]
            }
        },
        {
            name:'最低气温',
            type:'line',
            data:[1, -2, 2, 5, 3, 2, 0],
            markPoint : {
                data : [
                    {name : '周最低', value : -2, xAxis: 1, yAxis: -1.5}
                ]
            },
            markLine : {
                data : [
                    {type : 'average', name : '平均值'}
                ]
            }
        }
    ]
};
        
        
        myChart.setOption(option3);
        
        myChart.on('click', function (params) {
        	if(params.seriesType == "bar"){
        	var length = option.series.length;
        		alert(length);
        		alert(params.dataIndex);
        	option.series[length-1].data = pieData[params.dataIndex];
        	option.series[length-1].name = pieName[params.dataIndex];
      		myChart.setOption(option);
        	}
        });
    </script>
</body>
</html>
